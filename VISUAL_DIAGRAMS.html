<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Greenstar DBR System - Visual Architecture</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
            padding: 40px 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            text-align: center;
            font-size: 1.5em;
            margin-bottom: 50px;
            opacity: 0.9;
        }

        .diagram-section {
            background: white;
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }

        .diagram-section h2 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 10px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .diagram-section p {
            color: #666;
            font-size: 1.1em;
            margin-bottom: 30px;
        }

        .mermaid {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
        }

        .stat-card h3 {
            font-size: 3em;
            margin-bottom: 10px;
        }

        .stat-card p {
            color: white;
            opacity: 0.9;
            font-size: 1.1em;
        }

        .footer {
            text-align: center;
            margin-top: 60px;
            opacity: 0.8;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÄ Greenstar Solar DBR System</h1>
        <p class="subtitle">Complete AI-Powered Database Reactivation Platform</p>

        <div class="stats">
            <div class="stat-card">
                <h3>975</h3>
                <p>Leads Managed</p>
            </div>
            <div class="stat-card">
                <h3>¬£151k-365k</h3>
                <p>Year 1 Value</p>
            </div>
            <div class="stat-card">
                <h3>3,614%</h3>
                <p>ROI</p>
            </div>
            <div class="stat-card">
                <h3>9.3 hrs/day</h3>
                <p>Time Saved</p>
            </div>
        </div>

        <!-- Diagram 1: Full System Architecture -->
        <div class="diagram-section">
            <h2>üéØ Complete System Architecture</h2>
            <p>This shows all 6 layers of the platform: Data Sources ‚Üí n8n Automation ‚Üí AI Layer ‚Üí Communication ‚Üí Storage ‚Üí Frontend Dashboard</p>
            <div class="mermaid">
graph TB
    %% Styling
    classDef dataSource fill:#3b82f6,stroke:#1e40af,stroke-width:3px,color:#fff
    classDef automation fill:#8b5cf6,stroke:#6d28d9,stroke-width:3px,color:#fff
    classDef ai fill:#ec4899,stroke:#be185d,stroke-width:3px,color:#fff
    classDef communication fill:#10b981,stroke:#047857,stroke-width:3px,color:#fff
    classDef storage fill:#f59e0b,stroke:#d97706,stroke-width:3px,color:#fff
    classDef frontend fill:#06b6d4,stroke:#0891b2,stroke-width:3px,color:#fff

    GSHEET[(Google Sheets<br/>975 Leads)]:::dataSource
    N8N{n8n Automation<br/>35+ Nodes}:::automation
    OPENAI[OpenAI GPT-4<br/>AI Engine]:::ai
    TWILIO[Twilio SMS<br/>Messaging]:::communication
    SANITY[(Sanity CMS<br/>Database)]:::storage
    DASHBOARD[Next.js Dashboard<br/>Frontend]:::frontend

    GSHEET -->|Read Leads| N8N
    N8N -->|Generate Messages| OPENAI
    OPENAI -->|Personalized SMS| TWILIO
    TWILIO -->|Send Messages| LEADS[üì± 975 Leads]
    LEADS -->|Replies| N8N
    N8N -->|Analyze Sentiment| OPENAI
    N8N -->|Update Status| SANITY
    SANITY -->|Real-time Data| DASHBOARD
    DASHBOARD -->|View & Manage| TEAM[üë• Sales Team]
            </div>
        </div>

        <!-- Diagram 2: Lead Journey -->
        <div class="diagram-section">
            <h2>üìä Complete Lead Journey (M1 ‚Üí M2 ‚Üí M3)</h2>
            <p>Step-by-step flow showing how a lead moves through the system from initial contact to conversion</p>
            <div class="mermaid">
graph LR
    START([975 Dormant Leads]) --> M1[üì± Message 1<br/>AI Personalized]

    M1 --> CHECK1{Reply?}
    CHECK1 -->|Yes| SENTIMENT{AI Sentiment<br/>Analysis}
    CHECK1 -->|No - 24h| M2[üì± Message 2<br/>Follow-up]

    SENTIMENT -->|POSITIVE| HOT[üî• HOT LEAD]
    SENTIMENT -->|NEUTRAL| M2
    SENTIMENT -->|NEGATIVE| REMOVE[‚ùå Removed]

    M2 --> CHECK2{Reply?}
    CHECK2 -->|Yes| SENTIMENT
    CHECK2 -->|No - 48h| M3[üì± Message 3<br/>Final Attempt]

    M3 --> CHECK3{Reply?}
    CHECK3 -->|Yes| SENTIMENT
    CHECK3 -->|No| ARCHIVE[üìÅ Archive]

    HOT --> DASH[üìä Dashboard Alert]
    DASH --> SALES[üë§ Sales Call]
    SALES --> BOOK[üìÖ Cal.com Booking]
    BOOK --> CONVERT[üí∞ Conversion<br/>¬£7,000 avg]

    style START fill:#3b82f6
    style HOT fill:#ef4444
    style CONVERT fill:#10b981
    style DASH fill:#8b5cf6
            </div>
        </div>

        <!-- Diagram 3: Spider/Integration Map -->
        <div class="diagram-section">
            <h2>üï∑Ô∏è System Integration Spider Diagram</h2>
            <p>All integrations radiating from the central DBR intelligence hub</p>
            <div class="mermaid">
graph TD
    CORE[üéØ DBR Central<br/>Intelligence]

    CORE ---|Data| SHEETS[üìä Google Sheets]
    CORE ---|Automation| N8N[üîÆ n8n Cloud]
    CORE ---|Storage| SANITY[üíæ Sanity CMS]
    CORE ---|UI| DASH[üì± Dashboard]
    CORE ---|AI| OPENAI[ü§ñ OpenAI]
    CORE ---|SMS| TWILIO[üì≤ Twilio]
    CORE ---|Deploy| VERCEL[‚òÅÔ∏è Vercel]
    CORE ---|Code| GITHUB[üîß GitHub]
    CORE ---|Booking| CAL[üìÖ Cal.com]
    CORE ---|Maps| GMAPS[üó∫Ô∏è Google Maps]

    N8N ---|Triggers| CRON[‚è∞ Time-based]
    N8N ---|Events| WEBHOOK[üé£ Webhooks]
    N8N ---|Logic| CONDITION[üß† Routing]

    OPENAI ---|Generate| MSG[‚úçÔ∏è Messages]
    OPENAI ---|Analyze| SENT[üòä Sentiment]

    DASH ---|Show| HOT[üî• Hot Leads]
    DASH ---|Display| ANALYTICS[üìä Analytics]
    DASH ---|Feed| RECENT[‚è±Ô∏è Recent Activity]

    CORE ---|Serves| TEAM[üë• Sales Team]
    CORE ---|Engages| LEADS[üéØ 975 Leads]
    CORE ---|Revenue| MONEY[üí∞ Conversions]

    classDef core fill:#ef4444,stroke:#991b1b,stroke-width:4px,color:#fff
    classDef primary fill:#8b5cf6,stroke:#6d28d9,stroke-width:3px,color:#fff
    classDef secondary fill:#06b6d4,stroke:#0891b2,stroke-width:2px,color:#fff

    class CORE core
    class SHEETS,N8N,SANITY,DASH,OPENAI,TWILIO primary
    class CRON,WEBHOOK,MSG,HOT,ANALYTICS secondary
            </div>
        </div>

        <!-- Diagram 4: Value Creation Flow -->
        <div class="diagram-section">
            <h2>üí∞ Value Creation & ROI Flow</h2>
            <p>How the system transforms dormant leads into revenue</p>
            <div class="mermaid">
graph LR
    INPUT[975 Leads<br/>¬£0 Value] --> AUTO[AI Automation<br/>Personalization]

    AUTO --> SENT[2,925 Messages<br/>M1/M2/M3]
    SENT --> REPLY[327 Replies<br/>11.2% Rate]
    REPLY --> POSITIVE[33 Conversions<br/>10% Convert]
    POSITIVE --> REV[¬£57,750<br/>Campaign Revenue]

    REV --> PROFIT[¬£14,437<br/>Profit @ 25%]

    SAVED[Time Saved<br/>9.3 hrs/day] --> LABOR[¬£60,450<br/>Labor Savings]
    SPEED[Fast Response<br/>4 days vs 8 weeks] --> CASH[¬£15,000<br/>Cash Flow]

    PROFIT --> TOTAL[Total Year 1<br/>¬£151,550]
    LABOR --> TOTAL
    CASH --> TOTAL

    INVEST[Investment<br/>¬£4,080] --> ROI[ROI: 3,614%<br/>Payback: 4 days]
    TOTAL --> ROI

    style INPUT fill:#3b82f6
    style AUTO fill:#8b5cf6
    style REV fill:#10b981
    style TOTAL fill:#f59e0b
    style ROI fill:#ef4444
            </div>
        </div>

        <!-- Diagram 5: Technology Stack -->
        <div class="diagram-section">
            <h2>‚öôÔ∏è Complete Technology Stack</h2>
            <p>7 layers powering the entire platform</p>
            <div class="mermaid">
graph TB
    subgraph "Frontend Layer"
        F1[Next.js 14]
        F2[React + TypeScript]
        F3[Tailwind CSS]
    end

    subgraph "API Layer"
        A1[8 API Routes]
        A2[Serverless Functions]
        A3[Vercel Cron Jobs]
    end

    subgraph "Automation Layer"
        N1[n8n Workflows]
        N2[35+ Nodes]
        N3[Triggers & Webhooks]
    end

    subgraph "AI/ML Layer"
        AI1[OpenAI GPT-4]
        AI2[Message Generation]
        AI3[Sentiment Analysis]
    end

    subgraph "Communication"
        C1[Twilio SMS]
        C2[Rate Limiting]
        C3[Reply Processing]
    end

    subgraph "Data Layer"
        D1[Sanity CMS]
        D2[Google Sheets]
        D3[Real-time Sync]
    end

    subgraph "Integrations"
        I1[Cal.com API]
        I2[Google Maps]
        I3[GitHub CI/CD]
    end

    F1 --> A1
    A1 --> N1
    N1 --> AI1
    N1 --> C1
    N1 --> D1
    A1 --> I1
            </div>
        </div>

        <!-- Diagram 6: ROI Breakdown -->
        <div class="diagram-section">
            <h2>üìà Year 1 Financial Benefit Breakdown</h2>
            <p>¬£151,550 total value split by category</p>
            <div class="mermaid">
pie title "Year 1 Financial Benefit (¬£151,550)"
    "Labor Savings ¬£60,450" : 60450
    "Campaign Automation ¬£24,350" : 24350
    "AI Conversion Uplift ¬£36,750" : 36750
    "Speed to Revenue ¬£15,000" : 15000
    "Scalability Value ¬£10,000" : 10000
    "Data Optimization ¬£5,000" : 5000
            </div>
        </div>

        <!-- Diagram 7: Time Comparison -->
        <div class="diagram-section">
            <h2>‚è±Ô∏è Time Savings: Manual vs Automated</h2>
            <p>98% reduction in time required to run campaigns</p>
            <div class="mermaid">
gantt
    title Manual Process vs Automated System
    dateFormat X
    axisFormat %Hh

    section Manual Campaign
    Write messages (146h) :done, 0, 146
    Send manually (97.5h) :done, 146, 244
    Monitor replies (273h) :done, 244, 517
    Update data (243h) :done, 517, 760
    Total: 760 hours :crit, 0, 760

    section Automated
    AI Auto-generates :done, 0, 0
    Auto-sends SMS :done, 0, 0
    Auto-monitors :done, 0, 0
    Auto-updates :done, 0, 0
    Team review (15h) :active, 0, 15
            </div>
        </div>

        <!-- Diagram 8: System Health -->
        <div class="diagram-section">
            <h2>üîî System Health Monitoring</h2>
            <p>Real-time monitoring with automatic alerts</p>
            <div class="mermaid">
graph LR
    MONITOR[System Health<br/>Dashboard]

    MONITOR --> M1[n8n Uptime<br/>99.5%]
    MONITOR --> M2[Vercel Status<br/>99.9%]
    MONITOR --> M3[API Response<br/>&lt;500ms]
    MONITOR --> M4[SMS Delivery<br/>99.2%]

    M1 --> CHECK1{&gt;95%?}
    M2 --> CHECK2{&gt;99%?}
    M3 --> CHECK3{&lt;1s?}
    M4 --> CHECK4{&gt;98%?}

    CHECK1 -->|No| ALERT[üì± Telegram Alert]
    CHECK2 -->|No| ALERT
    CHECK3 -->|No| ALERT
    CHECK4 -->|No| ALERT

    CHECK1 -->|Yes| OK[‚úÖ All Systems Go]
    CHECK2 -->|Yes| OK
    CHECK3 -->|Yes| OK
    CHECK4 -->|Yes| OK

    style MONITOR fill:#3b82f6
    style ALERT fill:#ef4444
    style OK fill:#10b981
            </div>
        </div>

        <!-- Diagram 9: Future Roadmap -->
        <div class="diagram-section">
            <h2>üó∫Ô∏è Future Enhancement Roadmap</h2>
            <p>Platform evolution from Phase 1 (complete) to Phase 4 (enterprise SaaS)</p>
            <div class="mermaid">
timeline
    title DBR System Evolution
    section Phase 1 - Complete ‚úÖ
        Dashboard : SMS Campaign
                  : Sentiment Analysis
                  : Cal.com Booking
                  : Analytics
    section Phase 2 - Q1 2025
        Enhancements : WhatsApp Integration
                     : Voice AI Calls
                     : Predictive Scoring
                     : Email Sequences
    section Phase 3 - Q2 2025
        Collaboration : Multi-user Access
                      : Team Features
                      : Advanced Reports
                      : CRM Integration
    section Phase 4 - Q3 2025
        Enterprise : White-label SaaS
                   : Partner Licensing
                   : API Marketplace
                   : ¬£500k+ Revenue
            </div>
        </div>

        <!-- Summary Stats -->
        <div class="diagram-section">
            <h2>üéØ Project Summary</h2>
            <div class="stats">
                <div class="stat-card">
                    <h3>51 hours</h3>
                    <p>Total Development</p>
                </div>
                <div class="stat-card">
                    <h3>2,582</h3>
                    <p>Lines of Code</p>
                </div>
                <div class="stat-card">
                    <h3>35+</h3>
                    <p>n8n Workflow Nodes</p>
                </div>
                <div class="stat-card">
                    <h3>8</h3>
                    <p>API Endpoints</p>
                </div>
                <div class="stat-card">
                    <h3>11.2%</h3>
                    <p>Reply Rate</p>
                </div>
                <div class="stat-card">
                    <h3>¬£55-150</h3>
                    <p>Monthly Cost</p>
                </div>
                <div class="stat-card">
                    <h3>4 days</h3>
                    <p>Payback Period</p>
                </div>
                <div class="stat-card">
                    <h3>100%</h3>
                    <p>Ownership</p>
                </div>
            </div>
        </div>

        <div class="footer">
            <h2>Cold Lava AI</h2>
            <p>Full-Stack Database Reactivation Platform</p>
            <p>Built: October 23rd, 2024 | Liverpool, UK</p>
            <p>Contact: oliver@otdm.net | +44 151 541 6933</p>
        </div>
    </div>

    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#667eea',
                primaryTextColor: '#fff',
                primaryBorderColor: '#764ba2',
                lineColor: '#667eea',
                secondaryColor: '#06b6d4',
                tertiaryColor: '#10b981',
            }
        });
    </script>
</body>
</html>
